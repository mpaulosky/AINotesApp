<nav class="sidebar">
	<div class="brand-row">
		<a class="navbar-brand" href="/">AI Notes</a>
	</div>

	<div class="nav-links">
		<NavLink class="nav-link" href="/" Match="NavLinkMatch.All">Home</NavLink>
		<NavLink class="nav-link" href="/auth">Auth Required</NavLink>

		<AuthorizeView Context="authState">
			<Authorized>
				<div class="user-info">Signed in as @GetUserName(authState.User)</div>
				<NavLink class="nav-link" href="/notes">My Notes</NavLink>
				<NavLink class="nav-link" href="/notes/create">Create Note</NavLink>
				<NavLink class="nav-link" href="/admin/seed">Seed Demo Notes</NavLink>
				<Logout/>
			</Authorized>
			<NotAuthorized>
				<Login/>
			</NotAuthorized>
		</AuthorizeView>
	</div>
</nav>

@code {

	private static string GetUserName(ClaimsPrincipal principal)
	{
		return principal.Identity?.Name
					 ?? principal.FindFirst("name")?.Value
					 ?? "user";
	}

}